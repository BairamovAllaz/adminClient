(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),l=n(47),c=n.n(l),r=(n(65),n(67),n(69),n(5)),i=n(2),s=n(17),u=n(23),m=n.n(u),d=(n(93),n(28));m.a.defaults.withCredentials=!0;var g=function(){var e=Object(i.m)(),t=Object(a.useState)(""),n=Object(r.a)(t,2),l=n[0],c=n[1],u=Object(a.useState)(""),m=Object(r.a)(u,2),d=m[0],g=m[1],p=Object(a.useState)(""),h=Object(r.a)(p,2),f=h[0],b=h[1],E=function(e){localStorage.setItem("Id",JSON.stringify(e.Id)),localStorage.setItem("token",JSON.stringify(e.token))};return o.a.createElement("div",{class:"MainWindow"},o.a.createElement("div",{class:"mainLogin"},o.a.createElement("input",{type:"checkbox",id:"chk","aria-hidden":"true"}),o.a.createElement("div",{class:"signup"},o.a.createElement("form",null,o.a.createElement("label",{for:"chk","aria-hidden":"true"},"Login"),o.a.createElement("input",{type:"email",name:"Email",placeholder:"Email",required:"",className:"LoginInput",onChange:function(e){c(e.target.value)}}),o.a.createElement("input",{type:"password",name:"Password",placeholder:"Password",required:"",className:"LoginInput",onChange:function(e){g(e.target.value)}}),o.a.createElement("button",{onClick:function(t){t.preventDefault(),localStorage.clear(),b("");var n={email:l,password:d};fetch("https://admin-allaz.herokuapp.com/register/login",{credentials:"same-origin",withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n),method:"POST"}).then(function(e){return e.ok||console.log("From server: "+e.text().then(function(e){console.log(e),alert(e),b(e)})),e.json()}).then(function(t){""===f?(console.log(t),E(t),console.log("ok"),e("/")):E(null)}).catch(function(e){console.log(e)})},className:"loginButton"},"Login"))),o.a.createElement("div",{class:"login"},o.a.createElement(s.b,{className:"loginLink",to:"/Register"},"Dont have any account?"))))};n(96);var p=function(){var e=Object(a.useState)(""),t=Object(r.a)(e,2),n=t[0],l=t[1],c=Object(a.useState)(""),u=Object(r.a)(c,2),m=u[0],d=u[1],g=Object(a.useState)(""),p=Object(r.a)(g,2),h=p[0],f=p[1],b=Object(a.useState)(""),E=Object(r.a)(b,2),S=E[0],v=E[1],j=Object(a.useState)(""),k=Object(r.a)(j,2),O=k[0],w=k[1],y=Object(a.useState)(""),N=Object(r.a)(y,2),C=N[0],I=N[1],P=Object(i.m)(),T=function(e){localStorage.setItem("token",JSON.stringify(e.token)),localStorage.setItem("Id",JSON.stringify(e.Id))};return o.a.createElement("div",{className:"mm"},o.a.createElement("div",{class:"mainRegister"},o.a.createElement("input",{type:"checkbox",id:"chk","aria-hidden":"true"}),o.a.createElement("div",{class:"signup"},o.a.createElement("form",null,o.a.createElement("label",{for:"chk","aria-hidden":"true"},"Sign up"),o.a.createElement("input",{className:"SingUpInput",type:"text",name:"FirstName",placeholder:"FirtsName",required:"",onChange:function(e){l(e.target.value)}}),o.a.createElement("input",{className:"SingUpInput",type:"text",name:"LastName",placeholder:"LastName",required:"",onChange:function(e){d(e.target.value)}}),o.a.createElement("input",{className:"SingUpInput",type:"email",name:"Email",placeholder:"Email",required:"",onChange:function(e){f(e.target.value)}}),o.a.createElement("input",{className:"SingUpInput",type:"password",name:"Password",placeholder:"Password",required:"",onChange:function(e){v(e.target.value)}}),o.a.createElement("input",{className:"SingUpInput",type:"password",name:"PasswordVerify",placeholder:"PasswordVerify",required:"",onChange:function(e){w(e.target.value)}}),o.a.createElement("button",{onClick:function(e){e.preventDefault(),localStorage.clear(),I("");var t={firstName:n,lastName:m,email:h,password:S,passwordverify:O};fetch("https://admin-allaz.herokuapp.com/register/register",{credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t),method:"POST"}).then(function(e){return e.ok||console.log("From server: "+e.text().then(function(e){console.log(e),alert(e),I(e)})),e.json()}).then(function(e){""===C?(T(e),console.log("ok"),P("/")):T(null)}).catch(function(e){console.log("There is something: "+e.message)})},className:"SignUpButton"},"Sign up"))),o.a.createElement("div",{class:"SignUp"},o.a.createElement(s.b,{className:"RegisterLink",to:"/Login"},"Have an account?"))))},h=n(48),f=n(57),b=n(32),E=n(25),S=n(29),v=n(30),j=n(49);var k,O=function(e){var t=e.columns,n=e.data,a=e.onChangeSelection,l=e.setSelectedRows,c=o.a.useMemo(function(){return new Set(["1"])},[]),r=Object(d.useTable)({columns:t,data:n,initialState:{selectedRowPaths:c},debug:!0},d.useRowSelect),i=r.getTableProps,s=r.getTableBodyProps,u=r.headerGroups,m=r.rows,g=r.prepareRow,p=r.selectedFlatRows;return r.state.selectedRowPaths,r.toggleAllRowsSelected,o.a.useEffect(function(){l(p)},[p,a]),o.a.createElement(o.a.Fragment,null,o.a.createElement("table",i(),o.a.createElement("thead",null,u.map(function(e){return o.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map(function(e){return o.a.createElement("th",e.getHeaderProps(),e.render("Header"))}))})),o.a.createElement("tbody",s(),m.map(function(e,t){return g(e),o.a.createElement("tr",e.getRowProps(),e.cells.map(function(e){return o.a.createElement("td",e.getCellProps(),e.render("Cell"))}))}))))},w=(n(98),n(99),j.a.div(k||(k=Object(h.a)(["\n  padding: 1rem;\n\n  table {\n    width: 100%;\n    border-spacing: 0;\n    border: 1px solid black;\n\n    tr {\n      :last-child {\n        td {\n          border-bottom: 0;\n        }\n      }\n    }\n\n    th,\n    td {\n      margin: 0;\n      padding: 0.5rem;\n      border-bottom: 1px solid black;\n      border-right: 1px solid black;\n      :last-child {\n        border-right: 0;\n      }\n    }\n  }\n"]))));var y=function(){var e=Object(i.m)(),t=Object(a.useState)([]),n=Object(r.a)(t,2),l=n[0],c=n[1],s=Object(a.useState)([]),u=Object(r.a)(s,2),m=u[0],d=u[1];Object(a.useEffect)(function(){fetch("https://admin-allaz.herokuapp.com/user/getusers").then(function(e){return e.json()}).then(function(t){c(t),!1===t.some(function(e){return localStorage.getItem("Id")==e.Id})&&e("/Login"),"Blocked"==t.find(function(e){return e.Id==localStorage.getItem("Id")}).status&&e("/Login")}).catch(function(e){console.log(e)})},[]);var g=o.a.useMemo(function(){return[{id:"selection",Header:function(e){var t=e.getToggleAllRowsSelectedProps;return o.a.createElement("div",null,o.a.createElement("input",Object.assign({type:"checkbox"},t())))},Cell:function(e){var t=e.row;return o.a.createElement("div",null,o.a.createElement("input",Object.assign({type:"checkbox"},t.getToggleRowSelectedProps())))}},{Header:"Name",columns:[{Header:"First Name",accessor:"first_name"},{Header:"Last Name",accessor:"last_name"}]},{Header:"Info",columns:[{Header:"Email",accessor:"email"},{Header:"Status",accessor:"status"},{Header:"Registration Time",accessor:"registration_time"}]}]},[]),p=o.a.useState(0),h=Object(r.a)(p,2),j=(h[0],h[1]),k=o.a.useCallback(function(e){j(e)},[j]),y=function(e){var t="https://admin-allaz.herokuapp.com/user/".concat(e);m.map(function(e){fetch(t,{credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e.original),method:"PUT"}).then(function(e){e.ok?console.log("ok"):console.log("From server: "+e.text().then(function(e){console.log(e),alert(e)}))}).catch(function(e){console.log("There is something: "+e.message)}),window.location.reload(0)})};return o.a.createElement(o.a.Fragment,null,o.a.createElement(b.a,{bg:"dark",variant:"dark"},o.a.createElement(f.a,null,o.a.createElement(b.a.Brand,{href:"#home"},o.a.createElement("img",{alt:"",src:"https://p7.hiclipart.com/preview/429/434/396/computer-icons-icon-design-business-administration-clip-art-admin-icon.jpg",width:"40",height:"30",className:"d-inline-block align-top"})," ",o.a.createElement("span",null,"Admin Panel")),o.a.createElement(b.a.Brand,{href:"#home"},o.a.createElement(E.a,{className:"But",variant:"danger",onClick:function(){m.map(function(e){fetch("https://admin-allaz.herokuapp.com/user/delete",{credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e.original),method:"DELETE"}).then(function(e){e.ok?console.log("ok"):console.log("From server: "+e.text().then(function(e){console.log(e),alert(e)}))}).catch(function(e){console.log("There is something: "+e.message)})}),window.location.reload(0)}},o.a.createElement(S.a,null)),o.a.createElement(E.a,{className:"But",variant:"secondary",onClick:function(){return y("Block")}},o.a.createElement(v.a,null)),o.a.createElement(E.a,{className:"But",variant:"secondary",onClick:function(){return y("UnBlock")}},o.a.createElement(v.b,null)),o.a.createElement(E.a,{className:"But",variant:"success",onClick:function(){localStorage.clear(),window.location.reload(!1)}},o.a.createElement(S.b,null))))),o.a.createElement(w,null,o.a.createElement(O,{columns:g,data:l,onChangeSelection:k,setSelectedRows:function(e){d(e)}})))};n(107);function N(e){e.children;var t=Object(a.useState)(),n=Object(r.a)(t,2),l=n[0],c=n[1],s=Object(i.m)();return Object(a.useEffect)(function(){null!==JSON.parse(localStorage.getItem("token"))?(c(!0),s("/")):(c(!1),s("/login"))},[]),l?o.a.createElement(y,null):o.a.createElement(i.a,{to:"/Login"})}m.a.defaults.withCredentials=!0;var C=function(){return o.a.createElement(s.a,null,o.a.createElement(i.d,null,o.a.createElement(i.b,{path:"/",element:o.a.createElement(N,null,o.a.createElement(y,null))}),o.a.createElement(i.b,{path:"/Login",element:o.a.createElement(g,null)}),o.a.createElement(i.b,{path:"/Register",element:o.a.createElement(p,null)})))},I=function(e){e&&e instanceof Function&&n.e(1).then(n.bind(null,112)).then(function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,l=t.getLCP,c=t.getTTFB;n(e),a(e),o(e),l(e),c(e)})};c.a.createRoot(document.getElementById("root")).render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(C,null))),I()},58:function(e,t,n){e.exports=n(108)},67:function(e,t,n){},69:function(e,t,n){},93:function(e,t,n){},96:function(e,t,n){},99:function(e,t,n){}},[[58,3,2]]]);
//# sourceMappingURL=main.4969372c.chunk.js.map